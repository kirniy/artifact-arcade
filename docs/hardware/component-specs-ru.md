# Спецификация компонентов ARTIFACT

## Обзор системы

```
┌─────────────────────────────────────────────────────────────────┐
│                         МАРКИЗ (верх)                           │
│                    Подсветка логотипа                           │
├─────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                    ТИКЕР (WS2812B)                        │  │
│  │                      480 × 80 мм                          │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │              ГЛАВНЫЙ ДИСПЛЕЙ (P3 LED)                     │  │
│  │                    384 × 384 мм                           │  │
│  │                    128 × 128 пикс                         │  │
│  │                                                           │  │
│  │                     [КАМЕРА]                              │  │
│  │                      (сверху)                             │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                    ПАНЕЛЬ УПРАВЛЕНИЯ                            │
│                                                                 │
│   [◀]        [БОЛЬШАЯ КРАСНАЯ]       [▶]        [NUMPAD]       │
│   30мм           Ø60мм              30мм        137×85мм        │
│                                                                 │
│                        [LCD 16x2]                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                    НИЖНЯЯ СЕКЦИЯ                                │
│                                                                 │
│                  ═══════════════                                │
│                  [ПРИНТЕР 58мм]                                 │
│                                                                 │
│               [ДИНАМИКИ] [ДИНАМИКИ]                             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │                 ЭЛЕКТРОНИКА (внутри)                    │    │
│  │  • Raspberry Pi 4                                       │    │
│  │  • NovaStar T50 + DH418                                 │    │
│  │  • Блок питания 5V 40A                                  │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 1. Дисплеи

### 1.1 Главный LED-дисплей (P3 матрица)

| Параметр | Значение |
|----------|----------|
| **Модель** | P3-2121-64x64-32S-v3 |
| **Количество** | 4 модуля (сетка 2×2) |
| **Разрешение** | 64×64 пикс/модуль → 128×128 пикс всего |
| **Шаг пикселя** | 3 мм |
| **Размер модуля** | 192×192 мм |
| **Общий размер** | 384×384 мм |
| **Интерфейс** | HUB75E |
| **Драйвер** | ICND2153 (ICN2153) |
| **Сканирование** | 1/32 |
| **Контроллер** | NovaStar T50 (отправитель) + DH418 (приёмник) |

**Расположение**: Центр верхней фронтальной панели, окно 395×395 мм

**Подключение**:
```
Raspberry Pi HDMI → NovaStar T50 → Ethernet → DH418 → HUB75E → Панели
```

### 1.2 LED-тикер (бегущая строка)

| Параметр | Значение |
|----------|----------|
| **Тип** | WS2812B (Neopixel) |
| **Конфигурация** | 32×8 (центр) + 8×8 (лево) + 8×8 (право) |
| **Общий размер** | 480×80 мм (48×8 пикселей) |
| **Всего LED** | 384 шт |
| **Интерфейс** | PWM (GPIO 21) |
| **Напряжение** | 5V |
| **Протокол** | WS2812B (800 кГц) |

**Расположение**: Над главным дисплеем, окно 490×90 мм

**ВАЖНО**: Используется GPIO 21, а не GPIO 18 (конфликт с аудио)

### 1.3 LCD-дисплей

| Параметр | Значение |
|----------|----------|
| **Модель** | LCD1602 I2C |
| **Символов** | 16 столбцов × 2 строки |
| **Интерфейс** | I2C (адрес 0x27) |
| **Подсветка** | Зелёная на чёрном |
| **Контроллер** | HD44780 |
| **Размер** | ~80×36 мм |

**Расположение**: Панель управления, под кнопками

---

## 2. Устройства ввода

### 2.1 Большая красная кнопка (главная)

| Параметр | Значение |
|----------|----------|
| **Диаметр** | 60 мм |
| **Тип** | USB HID |
| **Функция** | Эмулирует Enter |
| **Подсветка** | Красный LED |
| **Отклик** | Тактильный щелчок |
| **Модель** | LinTx Keyboard (VID 0x8088) |

**Расположение**: Центр панели управления

**Вырез**: Круг Ø60 мм

### 2.2 Кнопки навигации (лево/право)

| Параметр | Значение |
|----------|----------|
| **Диаметр** | 30 мм |
| **Количество** | 2 шт |
| **Цвет** | Красный |
| **Интерфейс** | GPIO с подтяжкой |
| **Функция** | Лево/Право выбор |

**Расположение**: По бокам от большой кнопки (±80 мм от центра)

**Вырезы**: 2× круг Ø30 мм

### 2.3 USB-нумпад

| Параметр | Значение |
|----------|----------|
| **Размер** | 137 × 85 × 10 мм |
| **Клавиши** | 0-9, +, -, *, /, Enter, Backspace, NumLock |
| **Интерфейс** | USB HID |
| **Тип** | Встраиваемый (утопленный) |

**Расположение**: Правая часть панели управления (+150 мм от центра)

**Вырез**: Прямоугольник 137×85 мм, углубление 8 мм

### 2.4 Матричная клавиатура 3×4 (резерв)

| Параметр | Значение |
|----------|----------|
| **Клавиши** | 0-9, *, # |
| **Интерфейс** | 7 GPIO (4 строки, 3 столбца) |
| **Раскладка** | Телефонная |

**Статус**: Резервный вариант (если нумпад не подойдёт)

---

## 3. Камера

### Raspberry Pi Camera Module 3 NoIR

| Параметр | Значение |
|----------|----------|
| **Разрешение** | 12 Мп (4608×2592) |
| **Сенсор** | Sony IMX708 |
| **Функции** | Автофокус, HDR |
| **Особенность** | Без ИК-фильтра (работает в темноте) |
| **Интерфейс** | CSI (15-пин шлейф) |

**Расположение**: Над главным дисплеем, по центру

**Монтаж**: Крепление через отверстие в верхней части экранной панели

---

## 4. Принтер

### EM5820 термопринтер

| Параметр | Значение |
|----------|----------|
| **Ширина бумаги** | 58 мм |
| **Интерфейс** | TTL UART (9600 бод) |
| **Кодировка** | CP866 (кириллица) |
| **Напряжение** | 5-9V |
| **Разрешение** | 384 точки/строка |
| **GPIO** | TX→GPIO14, RX→GPIO15 |

**Расположение**: Нижняя фронтальная панель, щель для выхода чеков

**Вырез**: Прямоугольник 80×30 мм, 200 мм от пола

---

## 5. Аудио

### SVEN 150 USB-колонки

| Параметр | Значение |
|----------|----------|
| **Мощность** | 5 Вт |
| **Интерфейс** | USB + 3.5мм jack |
| **Частоты** | 100 Гц — 20 кГц |
| **Количество** | 2 шт (стерео) |

**Расположение**: Внутри нижней секции, звук через вентиляционные отверстия

**Аудиовыход Pi**: 3.5мм jack (hw:2,0)

---

## 6. Электроника

### 6.1 Raspberry Pi 4 Model B

| Параметр | Значение |
|----------|----------|
| **Модель** | Raspberry Pi 4B Rev 1.5 |
| **ОЗУ** | 8 ГБ |
| **ОС** | Debian 13 (Trixie) 64-bit |
| **Хранилище** | microSD |
| **Сеть** | WiFi + Ethernet |

**Расположение**: Внутренняя полка, 200 мм от пола

### 6.2 NovaStar T50 (отправитель)

| Параметр | Значение |
|----------|----------|
| **Вход** | HDMI |
| **Выход** | Ethernet (к DH418) |
| **Разрешение** | до 650,000 пикселей |
| **WiFi** | AP00006151 / 12345678 |

**Расположение**: Рядом с Pi на внутренней полке

### 6.3 NovaStar DH418 (приёмник)

| Параметр | Значение |
|----------|----------|
| **Вход** | Ethernet (от T50) |
| **Выход** | HUB75E (к панелям) |
| **Порты** | 4× HUB75E |
| **Макс. разрешение** | 256×256 |

**Расположение**: За LED-панелями

### 6.4 Блок питания

| Параметр | Значение |
|----------|----------|
| **Модель** | Mean Well LRS-200-5 |
| **Выход** | 5V DC, 40A |
| **Вход** | 85-264V AC |
| **Мощность** | 200 Вт |
| **Защита** | КЗ, перегрузка, перенапряжение |

**Расположение**: Внутренняя полка, рядом с Pi

**ВАЖНО**: V- это земля (GND), не отрицательное напряжение!

---

## 7. Расположение компонентов

### Фронтальная панель (снаружи)

```
Высота от пола:
├─ 1750 мм ─ Верх маркиза
├─ 1650 мм ─ Низ маркиза / Верх тикера
├─ 1560 мм ─ Низ тикера
├─ 1500 мм ─ Верх главного дисплея
├─ 1100 мм ─ Низ главного дисплея + Камера
├─ 1050 мм ─ Верх панели управления
├─  900 мм ─ Центр кнопок
├─  850 мм ─ Низ панели управления
├─  200 мм ─ Щель принтера
└─    0 мм ─ Пол
```

### Панель управления (вид сверху)

```
←────────────────── 504 мм ──────────────────→

     ┌────────────────────────────────────────┐
     │                                        │
     │  [◀]      [●]      [▶]    [NUMPAD]    │
     │  30мм    60мм     30мм    137×85мм    │
     │                                        │
     │           -80    0    +80    +150      │  ← смещение от центра
     │                                        │
     │              [LCD 16×2]                │
     │                                        │
     └────────────────────────────────────────┘

     Угол наклона: 15° (передний край ниже)
```

### Внутренняя полка (вид сверху)

```
←────────────────── 504 мм ──────────────────→

     ┌────────────────────────────────────────┐
     │                                        │
     │   [Pi 4]    [T50]    [БП 5V/40A]      │
     │                                        │
     │   USB ───────────────────── LED        │
     │   HDMI ──────────────────── Ethernet   │
     │   GPIO ──────────────────── Принтер    │
     │                                        │
     └────────────────────────────────────────┘

     Высота полки: 200 мм от пола
```

---

## 8. Список покупок

| Компонент | Кол-во | Примечание |
|-----------|--------|------------|
| P3 LED модуль 64×64 | 4 | HUB75E, ICN2153 |
| WS2812B матрица 32×8 | 1 | Гибкая |
| WS2812B матрица 8×8 | 2 | Гибкие |
| LCD1602 I2C | 1 | Зелёный |
| Большая красная кнопка USB | 1 | Ø60мм |
| Аркадные кнопки | 2 | Ø30мм, красные |
| USB-нумпад | 1 | 137×85×10мм |
| Pi Camera Module 3 NoIR | 1 | Автофокус |
| EM5820 термопринтер | 1 | 58мм |
| SVEN 150 колонки | 1 пара | USB |
| Raspberry Pi 4 8GB | 1 | |
| NovaStar T50 | 1 | |
| NovaStar DH418 | 1 | |
| Mean Well LRS-200-5 | 1 | 5V 40A |
| Фанера 18мм | ~2.5 м² | Берёза |

---

## 9. GPIO распиновка

```
Raspberry Pi 4 GPIO:

3V3  (1)  (2)  5V      ← Питание
SDA  (3)  (4)  5V      ← I2C для LCD
SCL  (5)  (6)  GND     ← I2C для LCD
     (7)  (8)  TX      ← UART для принтера
GND  (9)  (10) RX      ← UART для принтера
     (11) (12)
     (13) (14) GND
     (15) (16)
3V3  (17) (18)
     (19) (20) GND
     (21) (22)         ← GPIO 21 для WS2812B
     ...

Занятые GPIO:
- GPIO 2, 3   → I2C (LCD)
- GPIO 14, 15 → UART (Принтер)
- GPIO 21     → PWM (WS2812B тикер)
- GPIO 17, 27 → Кнопки лево/право (опционально)
```

---

## 10. Кабели и соединения

| Соединение | Кабель | Длина |
|------------|--------|-------|
| Pi → T50 | HDMI | 0.5м |
| T50 → DH418 | Ethernet CAT5e | 1м |
| DH418 → Панели | HUB75E шлейф | 4×0.3м |
| Pi → LCD | I2C (4 провода) | 0.5м |
| Pi → Принтер | UART (3 провода) | 0.5м |
| Pi → WS2812B | GPIO21 (1 провод) | 0.5м |
| Pi → Колонки | 3.5мм jack | 0.5м |
| БП → Все | 5V провода | по месту |
