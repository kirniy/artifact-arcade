# Модификации CAD-модели для ARTIFACT

**Исходный файл:** `docs/hardware/arcade_cabinet.step`
**Цель:** Адаптировать существующую модель аркадного автомата под наши компоненты

---

## 1. Масштабирование корпуса

### Текущие размеры (из STEP-файла):
| Параметр | Исходное значение |
|----------|-------------------|
| Ширина | ~630 мм |
| Высота | ~1760 мм |
| Глубина | ~550 мм |

### Целевые размеры (под наши компоненты):
| Параметр | Целевое значение | Причина |
|----------|------------------|---------|
| **Ширина** | **540 мм** | Тикер WS2812B 480мм + зазоры 60мм |
| **Высота** | **1750 мм** | Эргономика: экран на уровне глаз |
| **Глубина** | **500 мм** | Достаточно для электроники |

### Коэффициенты масштабирования:
```
X (ширина): 540 / 630 = 0.857
Y (высота): 1750 / 1760 = 0.994  (почти без изменений)
Z (глубина): 500 / 550 = 0.909
```

---

## 2. Вырезы на фронтальной панели (ЭКРАНЫ)

### 2.1 Окно для главного LED-дисплея

| Параметр | Значение | Примечание |
|----------|----------|------------|
| **Размер выреза** | **395 × 395 мм** | Панели 384×384 + зазор 11мм |
| **Положение** | По центру по X | X = (540-395)/2 = 72.5мм от края |
| **Высота от пола** | 1100-1500 мм | Центр выреза на ~1300мм |

**Что делать в CAD:**
1. Найти фронтальную панель экранной секции (`Front_Upper` или `Screen_panel`)
2. Вырезать прямоугольник 395×395мм
3. Центрировать по горизонтали, вертикально — 100мм от нижнего края панели

### 2.2 Окно для тикера (бегущей строки)

| Параметр | Значение | Примечание |
|----------|----------|------------|
| **Размер выреза** | **490 × 90 мм** | Тикер 480×80 + зазор 10мм |
| **Положение** | По центру по X | X = (540-490)/2 = 25мм от края |
| **Высота** | Над главным дисплеем | 20мм от верха панели |

**Что делать в CAD:**
1. На той же фронтальной панели добавить второй вырез
2. Прямоугольник 490×90мм, отступ 20мм от верха

---

## 3. Вырезы на панели управления (КНОПКИ)

Панель управления должна быть наклонена на **15°** (передний край ниже).

### 3.1 Большая красная кнопка (USB)

| Параметр | Значение |
|----------|----------|
| **Форма** | Круг |
| **Диаметр** | Ø62 мм (посадочный Ø60мм) |
| **Положение** | ЦЕНТР панели |

### 3.2 Кнопки навигации (лево/право)

| Параметр | Значение |
|----------|----------|
| **Форма** | 2× круга |
| **Диаметр** | Ø30 мм каждая |
| **Положение** | ±80мм от центра по X |

### 3.3 USB-нумпад (утопленный)

| Параметр | Значение |
|----------|----------|
| **Форма** | Прямоугольник с фаской (углубление) |
| **Размер выреза** | 137 × 85 мм |
| **Глубина углубления** | 8 мм |
| **Положение** | +150мм от центра по X |

### Схема панели управления:
```
┌─────────────────────────────────────────────────────────────┐
│                    504 × 200 мм                              │
│                                                              │
│   ○         ●●●●●●●●●         ○         ┌──────────┐        │
│  Ø30         Ø60            Ø30        │ 137×85   │        │
│  LEFT       CENTER         RIGHT        │ NUMPAD   │        │
│                                         │ (recess) │        │
│  -80mm        0mm          +80mm        └──────────┘        │
│                                           +150mm             │
└─────────────────────────────────────────────────────────────┘
```

**Что делать в CAD:**
1. Найти панель управления (`Control_Panel` или `Button_panel`)
2. Добавить 3 круглых отверстия: Ø62мм (центр), 2×Ø30мм (±80мм)
3. Добавить прямоугольный карман 137×85×8мм (+150мм от центра)

---

## 4. Вырез на нижней панели (ПРИНТЕР)

### 4.1 Щель для выхода чеков

| Параметр | Значение |
|----------|----------|
| **Размер выреза** | **80 × 30 мм** |
| **Положение по X** | По центру |
| **Высота от пола** | 200 мм |

**Что делать в CAD:**
1. Найти нижнюю фронтальную панель (`Front_Lower`)
2. Вырезать прямоугольник 80×30мм
3. Центрировать по X, Y=200мм от пола

### 4.2 Вентиляционные отверстия

| Параметр | Значение |
|----------|----------|
| **Количество** | 6 шт |
| **Диаметр** | Ø30 мм каждое |
| **Расположение** | Нижние углы панели, шаг 50мм |

---

## 5. Отверстие для камеры

| Параметр | Значение |
|----------|----------|
| **Форма** | Круг |
| **Диаметр** | Ø30 мм |
| **Положение** | Над главным дисплеем, по центру |
| **Высота** | ~1510мм от пола (10мм над экраном) |

**Что делать в CAD:**
1. В секции между тикером и главным дисплеем
2. Круглое отверстие Ø30мм, по центру

---

## 6. Внутренние элементы

### 6.1 Полка для электроники

| Параметр | Значение |
|----------|----------|
| **Размер** | 464 × 440 мм |
| **Высота от пола** | 200 мм |
| **Назначение** | Raspberry Pi, блок питания, NovaStar T50 |

### 6.2 Крепление для LED-панелей

| Параметр | Значение |
|----------|----------|
| **Рамка** | 400 × 400 мм |
| **Положение** | За вырезом 395×395мм |
| **Крепление** | 4× уголка или рамка |

### 6.3 Крепление для NovaStar DH418

| Параметр | Значение |
|----------|----------|
| **Положение** | За LED-панелями, по центру |
| **Размер** | ~130 × 85 мм |

---

## 7. Задняя панель

### 7.1 Вентиляционные прорези

| Параметр | Значение |
|----------|----------|
| **Тип** | Горизонтальные прорези |
| **Размер** | 200 × 10 мм каждая |
| **Количество** | 5-6 шт |
| **Положение** | Нижняя и средняя часть |

### 7.2 Отверстия для кабелей

| Параметр | Значение |
|----------|----------|
| **Диаметр** | Ø50 мм |
| **Количество** | 2 шт |
| **Положение** | Внизу (питание) и в середине (HDMI/Ethernet) |

### 7.3 Съёмность

**Рекомендация:** Задняя панель должна быть съёмной для обслуживания.
- Крепление на петлях (рояльная петля) или
- Магнитные защёлки + винты

---

## 8. Сводная таблица всех вырезов

| Панель | Вырез | Размер | Положение |
|--------|-------|--------|-----------|
| Front Upper | Главный дисплей | 395×395мм | Центр, 100мм от низа |
| Front Upper | Тикер | 490×90мм | Центр, 20мм от верха |
| Front Upper | Камера | Ø30мм | Центр, между тикером и дисплеем |
| Control Panel | Большая кнопка | Ø62мм | Центр |
| Control Panel | Левая кнопка | Ø30мм | -80мм от центра |
| Control Panel | Правая кнопка | Ø30мм | +80мм от центра |
| Control Panel | Нумпад (карман) | 137×85×8мм | +150мм от центра |
| Front Lower | Принтер | 80×30мм | Центр, 200мм от пола |
| Front Lower | Вентиляция | 6×Ø30мм | Нижние углы |
| Back | Вентиляция | 5×(200×10мм) | Распределить по высоте |
| Back | Кабели | 2×Ø50мм | Низ и середина |

---

## 9. Инструкция для FreeCAD

### Шаг 1: Импорт модели
```
File → Import → arcade_cabinet.step
```

### Шаг 2: Масштабирование
```python
# В консоли Python FreeCAD:
import FreeCAD

for obj in FreeCAD.ActiveDocument.Objects:
    if hasattr(obj, 'Shape'):
        mat = FreeCAD.Matrix()
        mat.scale(0.857, 0.994, 0.909)  # X, Y, Z коэффициенты
        obj.Shape = obj.Shape.transformGeometry(mat)

FreeCAD.ActiveDocument.recompute()
```

### Шаг 3: Добавление вырезов
Для каждого выреза:
1. Создать эскиз (Sketch) на нужной грани
2. Нарисовать контур (прямоугольник или круг)
3. Выдавить карман (Pocket) на нужную глубину
4. Для сквозного — на всю толщину (18мм)

### Шаг 4: Экспорт
```
File → Export → CAD formats (.step, .dxf, .svg)
```

---

## 10. Контрольный список

- [ ] Корпус масштабирован до 540×500×1750мм
- [ ] Вырез под главный дисплей 395×395мм
- [ ] Вырез под тикер 490×90мм
- [ ] Отверстие под камеру Ø30мм
- [ ] Отверстия под кнопки: Ø62мм + 2×Ø30мм
- [ ] Карман под нумпад 137×85×8мм
- [ ] Щель принтера 80×30мм
- [ ] Вентиляционные отверстия на передней и задней панелях
- [ ] Внутренняя полка на высоте 200мм
- [ ] Задняя панель съёмная

---

## 11. Файлы проекта

После модификации сохранить:
- `arcade_cabinet_modified.step` — модифицированная 3D-модель
- `arcade_cabinet_modified.FCStd` — проект FreeCAD
- `panel_cutouts.dxf` — 2D-чертежи вырезов для ЧПУ/лазера
